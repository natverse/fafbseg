<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Simple Python installation for use with R/fafbseg/FlyWire — simple_python • fafbseg</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simple Python installation for use with R/fafbseg/FlyWire — simple_python"><meta name="description" content="Installs Python via an isolated miniconda environment as well as
  recommended packages for fafbseg. If you absolutely do not want to use
  miniconda (it is much simpler to get started) please read the Details
  section."><meta property="og:description" content="Installs Python via an isolated miniconda environment as well as
  recommended packages for fafbseg. If you absolutely do not want to use
  miniconda (it is much simpler to get started) please read the Details
  section."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fafbseg</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.15.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/accessing-graphene-server.html">Accessing the chunked graph server</a></li>
    <li><a class="dropdown-item" href="../articles/capturing-ngl-meshes.html">Capturing neuroglancer meshes from a browser scene</a></li>
    <li><a class="dropdown-item" href="../articles/FAFB-FlyWire.html">FAFB-FlyWire</a></li>
    <li><a class="dropdown-item" href="../articles/fafbseg-catmaid-legacy-info.html">fafbseg-catmaid-legacy-info</a></li>
    <li><a class="dropdown-item" href="../articles/installing-cloudvolume-meshparty.html">Installing python modules: cloudvolume, meshparty and skeletor</a></li>
    <li><a class="dropdown-item" href="../articles/mesh-to-mesh.html">Mesh to mesh distances</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="../SUPPORT.html">Help</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://natverse.org/">natverse</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/natverse/fafbseg"><span class="fa fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Simple Python installation for use with R/fafbseg/FlyWire</h1>
      <small class="dont-index">Source: <a href="https://github.com/natverse/fafbseg/blob/master/R/utils.R" class="external-link"><code>R/utils.R</code></a></small>
      <div class="d-none name"><code>simple_python.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Installs Python via an isolated miniconda environment as well as
  recommended packages for fafbseg. If you absolutely do not want to use
  miniconda (it is much simpler to get started) please read the Details
  section.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">simple_python</span><span class="op">(</span></span>
<span>  pyinstall <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"basic"</span>, <span class="st">"full"</span>, <span class="st">"extra"</span>, <span class="st">"cleanenv"</span>, <span class="st">"blast"</span>, <span class="st">"none"</span><span class="op">)</span>,</span>
<span>  pkgs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  miniconda <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-pyinstall">pyinstall<a class="anchor" aria-label="anchor" href="#arg-pyinstall"></a></dt>
<dd><p>Whether to do a <code>"basic"</code> install (enough for most
functionality) a <code>"full"</code> install, which includes tools for accessing
fast/simple skeletons and "dotprops" for NBLAST via the <code>fafbseg-py</code>
package; <code>"extra"</code> installs neuron packages that enable high
resolution skeletonisation that are really not necessary for most users and
frankly a pain to install. <code>"cleanenv"</code> will show you how to clean up
your Python environment removing all packages. <code>"blast"</code> will show you
how to completely remove your dedicated miniconda installation. Choosing
what="none" skips update/install of Python and recommended packages only
installing extras defined by <code>pkgs</code>.</p></dd>


<dt id="arg-pkgs">pkgs<a class="anchor" aria-label="anchor" href="#arg-pkgs"></a></dt>
<dd><p>Additional python packages to install.</p></dd>


<dt id="arg-miniconda">miniconda<a class="anchor" aria-label="anchor" href="#arg-miniconda"></a></dt>
<dd><p>Whether to use the reticulate package's default approach of
a dedicated python for R based on miniconda (recommended, the default) or
to allow the specification of a different system installed Python via the
<code>RETICULATE_PYTHON</code> environment variable.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The recommended Python install procedure installs a miniconda Python
  distribution. This will not be added to your system <code>PATH</code> by default
  and can be used exclusively by R. If you do not want to use miniconda, then
  you should at least a) make a Python virtual environment using virtualenv
  (or conda if you are managing your own conda install) and b) specify which
  Python you want to use with the <code>RETICULATE_PYTHON</code> environment
  variable. You can set <code>RETICULATE_PYTHON</code> with
  <code><a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">usethis::edit_r_environ()</a></code>.</p>
<p>If you decided to stick with miniconda as recommended, some customisation
  is still possible. As a halfway house, you can set
  <code>options('fafbseg.condaenv')</code> to specify a non-standard miniconda
  virtual environment as an alternative to the default <code>"r-reticulate"</code>.
  Furthermore you can set an environment variable
  <code>RETICULATE_MINICONDA_PYTHON_VERSION=3.10</code> to use a newer version of
  Python than the reticulate package recommends.</p>
<p>If this sounds complicated, we strongly suggest sticking to the default
  <code>miniconda=TRUE</code> approach.</p>
<p>Note that that after installing miniconda Python for the first time or
  updating your miniconda install, you will likely be asked to restart R.
  This is because you cannot restart the Python interpreter linked to an R
  session. Therefore if Python was already running in this session, you must
  restart R to use your new Python install.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># just the basics</span></span></span>
<span class="r-in"><span><span class="fu">simple_python</span><span class="op">(</span><span class="st">"basic"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># if you want to skeletonise meshes</span></span></span>
<span class="r-in"><span><span class="fu">simple_python</span><span class="op">(</span><span class="st">"full"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To install a special package using the recommended approach</span></span></span>
<span class="r-in"><span><span class="fu">simple_python</span><span class="op">(</span>pkgs<span class="op">=</span><span class="st">"PyChunkedGraph"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># the same but without touching Python itself or the recommended packages</span></span></span>
<span class="r-in"><span><span class="fu">simple_python</span><span class="op">(</span><span class="st">'none'</span>, pkgs<span class="op">=</span><span class="st">'PyChunkedGraph'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># install a specific version of cloud-volume package</span></span></span>
<span class="r-in"><span><span class="fu">simple_python</span><span class="op">(</span><span class="st">'none'</span>, pkgs<span class="op">=</span><span class="st">'cloud-volume~=3.8.0'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># if you really need to insist (e.g. because a newer version is already installed)</span></span></span>
<span class="r-in"><span><span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/py_install.html" class="external-link">py_install</a></span><span class="op">(</span><span class="st">'cloud-volume==8.15.0'</span>, pip <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># install the latest version of a package from github</span></span></span>
<span class="r-in"><span><span class="fu">simple_python</span><span class="op">(</span><span class="st">'none'</span>, pkgs<span class="op">=</span><span class="st">"git+git://github.com/schlegelp/skeletor@master"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># install a specific earlier version of a package</span></span></span>
<span class="r-in"><span><span class="fu">simple_python</span><span class="op">(</span><span class="st">'none'</span>, pkgs<span class="op">=</span><span class="st">"git+git://github.com/seung-lab/DracoPy@v0.0.15"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># install all recommended packages but use your existing Python</span></span></span>
<span class="r-in"><span><span class="co"># only do this if you know what you are doing ...</span></span></span>
<span class="r-in"><span><span class="fu">simple_python</span><span class="op">(</span><span class="st">"full"</span>, miniconda<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gregory Jefferis.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

